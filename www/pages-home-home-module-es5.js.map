{"version":3,"sources":["webpack:///src/pages/home/home.page.html","webpack:///src/pages/home/home-routing.module.ts","webpack:///src/pages/home/home.module.ts","webpack:///src/pages/home/home.page.scss","webpack:///src/pages/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","router","service","formBuilder","menuController","form","group","email","senha","enable","refreshToken","pipe","response","successfulLogin","headers","get","navigateByUrl","subscribe","authenticate","credenciais","value","selector","template"],"mappings":"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","file":"pages-home-home-module-es5.js","sourcesContent":["export default \"<ion-content padding>\\n  <h3>Sistema de pedidos</h3>\\n\\n  <img src=\\\"assets/imgs/tela-inicial.png\\\" alt=\\\"logo\\\">\\n\\n  <form [formGroup]=\\\"form\\\">\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Email</ion-label>\\n      <ion-input formControlName=\\\"email\\\" type=\\\"text\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"stacked\\\">Senha</ion-label>\\n      <ion-input formControlName=\\\"senha\\\" type=\\\"password\\\"></ion-input>\\n    </ion-item>\\n\\n    <ion-button (click)=\\\"login()\\\" [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\" color=\\\"primary\\\">Entrar</ion-button>\\n  </form>\\n\\n  <ion-button (click)=\\\"signup()\\\" fill=\\\"outline\\\" expand=\\\"block\\\" color=\\\"primary\\\">Registrar</ion-button>\\n\\n  <div style=\\\"text-align: center;\\\">\\n    <br>\\n    Email: nitaicharan@gmail.com\\n    <br>\\n    Password: 123\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { HomePageRoutingModule } from './home-routing.module';\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    FormsModule,\n    FormsModule,\n    CommonModule,\n    ReactiveFormsModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule { }\n","export default \"h3 {\\n  text-align: center;\\n}\\n\\nimg {\\n  width: 200px;\\n  align-self: center;\\n  margin: auto;\\n  display: block;\\n  padding: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wYWdlcy9ob21lL2hvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0VBQ0EsYUFBQTtBQUNGIiwiZmlsZSI6InNyYy9wYWdlcy9ob21lL2hvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaDMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbmltZyB7XG4gIHdpZHRoOiAyMDBweDtcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICBtYXJnaW46IGF1dG87XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwYWRkaW5nOiAxMHB4O1xufSJdfQ== */\";","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { MenuController } from '@ionic/angular';\nimport { take, tap } from 'rxjs/operators';\nimport { CredenciaisDTO } from './../../models/credenciais.dto';\nimport { AuthService } from './../../services/auth.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage {\n\n  form: FormGroup;\n\n  constructor(\n    public router: Router,\n    public service: AuthService,\n    public formBuilder: FormBuilder,\n    public menuController: MenuController,\n  ) {\n    this.form = formBuilder.group({\n      email: [null],\n      senha: [null],\n    });\n  }\n\n  ionViewWillEnter() {\n    this.menuController.enable(false);\n  }\n\n  ionViewDidLeave() {\n    this.menuController.enable(true);\n  }\n\n  ionViewDidEnter() {\n    this.service.refreshToken().pipe(\n      tap(response => {\n        this.service.successfulLogin(response.headers.get('Authorization'));\n        this.router.navigateByUrl('categorias');\n      }),\n      take(1),\n    ).subscribe();\n  }\n\n  get credenciais(): CredenciaisDTO {\n    return this.form.value;\n  }\n\n  login() {\n    this.service.authenticate(this.credenciais).pipe(\n      tap(response => {\n        this.service.successfulLogin(response.headers.get('Authorization'));\n        this.router.navigateByUrl('categorias');\n      })\n    ).subscribe();\n  }\n\n  signup(){\n    this.router.navigateByUrl('/sign-up');\n  }\n}\n"]}