(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{gjbD:function(t,e,i){"use strict";i.r(e),i.d(e,"ProdutosPageModule",(function(){return I}));var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),s=i("Cfvw"),c=i("lJxs"),b=i("eIep"),p=i("5+tZ"),l=i("128B"),d=i("vkgz"),u=i("AytR"),f=i("fXoL"),g=i("uhbV");function h(t,e){if(1&t&&(f.Mb(0,"ion-item",9),f.Mb(1,"ion-thumbnail",10),f.Ib(2,"img",11),f.Lb(),f.Mb(3,"ion-label"),f.Mb(4,"h2"),f.mc(5),f.Lb(),f.Mb(6,"p"),f.mc(7),f.Xb(8,"currency"),f.Lb(),f.Lb(),f.Lb()),2&t){const t=e.$implicit;f.cc("routerLink","/produto-detail/",t.id,""),f.xb(2),f.bc("src",t.imageUrl||"assets/imgs/prod.jpg",f.ic),f.xb(3),f.nc(t.nome),f.xb(2),f.nc(f.Yb(8,4,t.preco))}}function m(t,e){if(1&t){const t=f.Nb();f.Mb(0,"ion-content",1),f.Mb(1,"ion-refresher",2),f.Ub("ionRefresh",(function(e){return f.hc(t),f.Wb().doRefresh(e)})),f.Ib(2,"ion-refresher-content"),f.Lb(),f.Mb(3,"ion-fab",3),f.Mb(4,"ion-fab-button",4),f.Ib(5,"ion-icon",5),f.Lb(),f.Lb(),f.Mb(6,"ion-list"),f.kc(7,h,9,6,"ion-item",6),f.Lb(),f.Mb(8,"ion-infinite-scroll",7),f.Ub("ionInfinite",(function(i){f.hc(t);const n=e.ngIf;return f.Wb().doInfinite(i,n)})),f.Ib(9,"ion-infinite-scroll-content",8),f.Lb(),f.Lb()}if(2&t){const t=e.ngIf;f.xb(7),f.bc("ngForOf",t)}}const L=[{path:":categoriaId",component:(()=>{class t{constructor(t,e){this.activatedRoute=t,this.service=e,this.page=0,this.items$=this.loadData()}loadData(t){return this.service.findByCategoria({categorias:""+this.activatedRoute.snapshot.params.categoriaId,page:""+this.page,linesPerPage:"10"}).pipe(Object(c.a)(e=>t?[...e,...t]:e),Object(b.a)(t=>this.loadImageUrls(t)))}loadImageUrls(t){return Object(s.a)(t).pipe(Object(p.a)(t=>this.service.getSmallImageFromBucket(t.id).pipe(Object(c.a)(()=>Object.assign(Object.assign({},t),{imageUrl:`${u.a.BUCKET_URL}/prod${t.id}-small.jpg`})))),Object(l.a)((t,e)=>[...t,e],[]))}doRefresh(t){this.items$=this.loadData().pipe(Object(d.a)(()=>this.page=0),Object(d.a)(()=>setTimeout(()=>t.target.complete(),500)))}doInfinite(t,e){this.items$=this.loadData(e).pipe(Object(d.a)(()=>this.page++),Object(d.a)(()=>setTimeout(()=>t.target.complete(),500)))}}return t.\u0275fac=function(e){return new(e||t)(f.Hb(a.a),f.Hb(g.a))},t.\u0275cmp=f.Bb({type:t,selectors:[["app-produtos"]],decls:6,vars:3,consts:[["padding","",4,"ngIf"],["padding",""],["slot","fixed",3,"ionRefresh"],["vertical","top","horizontal","end","edge","","slot","fixed"],["routerLink","/cart"],["name","cart"],["button","",3,"routerLink",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Aguarde..."],["button","",3,"routerLink"],["slot","start"],[3,"src"]],template:function(t,e){1&t&&(f.Mb(0,"ion-header"),f.Mb(1,"ion-toolbar"),f.Mb(2,"ion-title"),f.mc(3,"Produtos"),f.Lb(),f.Lb(),f.Lb(),f.kc(4,m,10,1,"ion-content",0),f.Xb(5,"async")),2&t&&(f.xb(4),f.bc("ngIf",f.Yb(5,1,e.items$)))},directives:[r.m,r.J,r.I,n.k,r.j,r.B,r.C,r.k,r.l,r.Q,a.h,r.n,r.t,n.j,r.o,r.p,r.r,r.H,r.s],pipes:[n.b,n.d],styles:[""]}),t})()}];let j=(()=>{class t{}return t.\u0275mod=f.Fb({type:t}),t.\u0275inj=f.Eb({factory:function(e){return new(e||t)},imports:[[a.i.forChild(L)],a.i]}),t})(),I=(()=>{class t{}return t.\u0275mod=f.Fb({type:t}),t.\u0275inj=f.Eb({factory:function(e){return new(e||t)},imports:[[n.c,o.d,r.K,j]]}),t})()}}]);