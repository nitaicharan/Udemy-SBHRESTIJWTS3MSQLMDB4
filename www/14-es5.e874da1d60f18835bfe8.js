!function(){function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{hylv:function(t,o,i){"use strict";i.r(o),i.d(o,"OrderConfirmationPageModule",(function(){return K}));var r,c=i("ofXK"),b=i("3Pt+"),a=i("TEn/"),d=i("AytR"),l=i("fXoL"),u=i("tk/3"),s=((r=function n(t){var o=this;e(this,n),this.httpClient=t,this.insert=function(n){return o.httpClient.post(d.a.API_URL+"/pedidos",n,{observe:"response",responseType:"text"})}}).\u0275fac=function(n){return new(n||r)(l.Qb(u.b))},r.\u0275prov=l.Db({token:r,factory:r.\u0275fac}),r),f=i("tyNb"),p=i("vkgz"),m=i("JIr8"),g=i("Q22s"),h=i("G8+7");function L(n,e){1&n&&(l.Mb(0,"ion-title"),l.mc(1,"Pedido registrado!"),l.Lb())}function M(n,e){1&n&&(l.Mb(0,"ion-title"),l.mc(1,"Confira seu pedido"),l.Lb())}function v(n,e){if(1&n&&(l.Mb(0,"ion-item"),l.Mb(1,"ion-thumbnail",3),l.Ib(2,"img",4),l.Lb(),l.Mb(3,"ion-label"),l.Mb(4,"h2"),l.mc(5),l.Lb(),l.Mb(6,"p",5),l.mc(7),l.Lb(),l.Mb(8,"p",6),l.mc(9),l.Xb(10,"currency"),l.Lb(),l.Lb(),l.Lb()),2&n){var t=e.$implicit;l.xb(2),l.bc("src",t.produto.imageUrl||"assets/imgs/prod.jpg",l.ic),l.xb(3),l.nc(t.produto.nome),l.xb(2),l.nc(t.quantidade),l.xb(2),l.nc(l.Yb(10,4,t.produto.preco*t.quantidade))}}function k(n,e){if(1&n&&(l.Kb(0),l.Mb(1,"ion-card"),l.Mb(2,"ion-card-header"),l.Mb(3,"ion-card-title"),l.mc(4," Endere\xe7o de entrega "),l.Lb(),l.Lb(),l.Mb(5,"ion-item"),l.Mb(6,"h2"),l.mc(7),l.Lb(),l.Mb(8,"p"),l.mc(9),l.Lb(),l.Mb(10,"p"),l.mc(11),l.Lb(),l.Lb(),l.Lb(),l.Jb()),2&n){var t=e.ngIf;l.xb(7),l.pc("",null==t?null:t.logradouro,", ",null==t?null:t.numero,""),l.xb(2),l.qc("",null==t?null:t.complemento," ",null==t?null:t.bairro," CEP ",null==t?null:t.cep,""),l.xb(2),l.pc("",null==t?null:t.cidade.nome,", ",null==t?null:t.cidade.estado.nome,"")}}function y(n,e){if(1&n&&(l.Mb(0,"div"),l.Mb(1,"ion-card"),l.Mb(2,"ion-card-header"),l.Mb(3,"ion-card-title"),l.mc(4," Cliente "),l.Lb(),l.Lb(),l.Mb(5,"ion-item"),l.Mb(6,"h2"),l.mc(7),l.Lb(),l.Mb(8,"p"),l.mc(9),l.Lb(),l.Lb(),l.Lb(),l.kc(10,k,12,7,"ng-container",0),l.Lb()),2&n){var t=l.Wb().ngIf,o=l.Wb();l.xb(7),l.nc(null==t?null:t.nome),l.xb(2),l.nc(null==t?null:t.email),l.xb(1),l.bc("ngIf",o.findEndereco(t))}}function x(n,e){if(1&n&&(l.Kb(0),l.kc(1,y,11,3,"div",0),l.Jb()),2&n){var t=l.Wb();l.xb(1),l.bc("ngIf",t.codpedido)}}function I(n,e){if(1&n&&(l.Kb(0),l.Mb(1,"ion-item"),l.Mb(2,"ion-label"),l.mc(3," Pagamento com cart\xe3o "),l.Lb(),l.Mb(4,"p"),l.mc(5),l.Lb(),l.Lb(),l.Jb()),2&n){var t=l.Wb(2);l.xb(5),l.oc("Parcelas: ",t.pedido.pagamento.numeroDeParcelas,"")}}function C(n,e){1&n&&(l.Kb(0),l.Mb(1,"ion-item"),l.Mb(2,"ion-label"),l.mc(3," Pagamento com boleto "),l.Lb(),l.Lb(),l.Jb())}function w(n,e){if(1&n){var t=l.Nb();l.Mb(0,"div"),l.Mb(1,"ion-card"),l.Mb(2,"ion-card-header"),l.Mb(3,"ion-card-title"),l.mc(4," Pagamento "),l.Lb(),l.Lb(),l.kc(5,I,6,1,"ng-container",0),l.kc(6,C,4,0,"ng-container",0),l.Mb(7,"ion-button",7),l.Ub("click",(function(){return l.hc(t),l.Wb().checkout()})),l.mc(8,"Confirmar pedido"),l.Lb(),l.Mb(9,"ion-button",8),l.mc(10,"Voltar"),l.Lb(),l.Lb(),l.Mb(11,"ion-button",8),l.mc(12,"Voltar"),l.Lb(),l.Lb()}if(2&n){var o=l.Wb();l.xb(5),l.bc("ngIf","pagamentoComCartao"==o.pedido.pagamento["@type"]),l.xb(1),l.bc("ngIf","pagamentoComBoleto"==o.pedido.pagamento["@type"])}}var P,j,E,O=[{path:"",component:(P=function(){function t(n,o,i,r){e(this,t),this.router=n,this.cartService=i,this.pedidoService=r,this.pedido=this.router.getCurrentNavigation().extras.state.pedido,this.cartItems=this.cartService.getCart().items,o.findById(this.pedido.cliente.id)}var o,i,r;return o=t,(i=[{key:"findEndereco",value:function(n){var e=this.pedido.enderecoDeEntrega.id,t=n.enderecos,o=t.findIndex((function(n){return n.id===e}));return t[o]}},{key:"total",value:function(){return this.cartService.total()}},{key:"checkout",value:function(){var n=this;this.pedidoService.insert(this.pedido).pipe(Object(p.a)((function(){return n.cartService.createOrClearCart()})),Object(p.a)((function(e){return n.codpedido=n.extractId(e.headers.get("location"))})),Object(m.a)((function(e){if(403===e.status)return n.router.navigateByUrl("/")}))).subscribe()}},{key:"extractId",value:function(n){var e=n.lastIndexOf("/");return n.substring(e+1)}}])&&n(o.prototype,i),r&&n(o,r),t}(),P.\u0275fac=function(n){return new(n||P)(l.Hb(f.g),l.Hb(g.a),l.Hb(h.a),l.Hb(s))},P.\u0275cmp=l.Bb({type:P,selectors:[["app-order-confirmation"]],decls:13,vars:7,consts:[[4,"ngIf"],[1,"ion-inherit-color","md","hydrated"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],[1,"nolinebreak"],["item-end",""],["expand","block","color","primary",3,"click"],["expand","block","color","secondary","routerLink","/cart"]],template:function(n,e){1&n&&(l.Mb(0,"ion-header"),l.Mb(1,"ion-toolbar"),l.kc(2,L,2,0,"ion-title",0),l.kc(3,M,2,0,"ion-title",0),l.Lb(),l.Lb(),l.Mb(4,"ion-content"),l.Mb(5,"ion-card"),l.Mb(6,"ion-card-header",1),l.Mb(7,"ion-card-title"),l.mc(8," Itens do pedido "),l.Lb(),l.Lb(),l.kc(9,v,11,6,"ion-item",2),l.Lb(),l.kc(10,x,2,1,"ng-container",0),l.Xb(11,"async"),l.kc(12,w,13,2,"div",0),l.Lb()),2&n&&(l.xb(2),l.bc("ngIf",e.codpedido),l.xb(1),l.bc("ngIf",!e.codpedido),l.xb(6),l.bc("ngForOf",e.cartItems),l.xb(1),l.bc("ngIf",l.Yb(11,5,e.cliente$)),l.xb(2),l.bc("ngIf",e.codpedido))},directives:[a.m,a.J,c.k,a.j,a.f,a.h,a.i,c.j,a.I,a.r,a.H,a.s,a.d,a.Q,f.h],pipes:[c.b,c.d],styles:[""]}),P)}],J=((E=function n(){e(this,n)}).\u0275mod=l.Fb({type:E}),E.\u0275inj=l.Eb({factory:function(n){return new(n||E)},imports:[[f.i.forChild(O)],f.i]}),E),K=((j=function n(){e(this,n)}).\u0275mod=l.Fb({type:j}),j.\u0275inj=l.Eb({factory:function(n){return new(n||j)},providers:[s],imports:[[c.c,b.d,a.K,J]]}),j)}}])}();