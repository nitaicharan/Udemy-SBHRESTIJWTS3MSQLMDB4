!function(){function t(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{gjbD:function(n,i,o){"use strict";o.r(i),o.d(i,"ProdutosPageModule",(function(){return M}));var a=o("ofXK"),c=o("3Pt+"),u=o("TEn/"),b=o("tyNb"),s=o("Cfvw"),f=o("lJxs"),l=o("eIep"),p=o("5+tZ"),d=o("128B"),m=o("vkgz"),g=o("AytR"),h=o("fXoL"),y=o("uhbV");function v(t,n){if(1&t&&(h.Mb(0,"ion-item",9),h.Mb(1,"ion-thumbnail",10),h.Ib(2,"img",11),h.Lb(),h.Mb(3,"ion-label"),h.Mb(4,"h2"),h.mc(5),h.Lb(),h.Mb(6,"p"),h.mc(7),h.Xb(8,"currency"),h.Lb(),h.Lb(),h.Lb()),2&t){var e=n.$implicit;h.cc("routerLink","/produto-detail/",e.id,""),h.xb(2),h.bc("src",e.imageUrl||"assets/imgs/prod.jpg",h.ic),h.xb(3),h.nc(e.nome),h.xb(2),h.nc(h.Yb(8,4,e.preco))}}function j(t,n){if(1&t){var e=h.Nb();h.Mb(0,"ion-content",1),h.Mb(1,"ion-refresher",2),h.Ub("ionRefresh",(function(t){return h.hc(e),h.Wb().doRefresh(t)})),h.Ib(2,"ion-refresher-content"),h.Lb(),h.Mb(3,"ion-fab",3),h.Mb(4,"ion-fab-button",4),h.Ib(5,"ion-icon",5),h.Lb(),h.Lb(),h.Mb(6,"ion-list"),h.kc(7,v,9,6,"ion-item",6),h.Lb(),h.Mb(8,"ion-infinite-scroll",7),h.Ub("ionInfinite",(function(t){h.hc(e);var r=n.ngIf;return h.Wb().doInfinite(t,r)})),h.Ib(9,"ion-infinite-scroll-content",8),h.Lb(),h.Lb()}if(2&t){var r=n.ngIf;h.xb(7),h.bc("ngForOf",r)}}var I,L,O,k=[{path:":categoriaId",component:(I=function(){function n(t,r){e(this,n),this.activatedRoute=t,this.service=r,this.page=0,this.items$=this.loadData()}var i,o,a;return i=n,(o=[{key:"loadData",value:function(n){var e=this;return this.service.findByCategoria({categorias:""+this.activatedRoute.snapshot.params.categoriaId,page:""+this.page,linesPerPage:"10"}).pipe(Object(f.a)((function(e){return n?[].concat(t(e),t(n)):e})),Object(l.a)((function(t){return e.loadImageUrls(t)})))}},{key:"loadImageUrls",value:function(n){var e=this;return Object(s.a)(n).pipe(Object(p.a)((function(t){return e.service.getSmallImageFromBucket(t.id).pipe(Object(f.a)((function(){return Object.assign(Object.assign({},t),{imageUrl:"".concat(g.a.BUCKET_URL,"/prod").concat(t.id,"-small.jpg")})})))})),Object(d.a)((function(n,e){return[].concat(t(n),[e])}),[]))}},{key:"doRefresh",value:function(t){var n=this;this.items$=this.loadData().pipe(Object(m.a)((function(){return n.page=0})),Object(m.a)((function(){return setTimeout((function(){return t.target.complete()}),500)})))}},{key:"doInfinite",value:function(t,n){var e=this;this.items$=this.loadData(n).pipe(Object(m.a)((function(){return e.page++})),Object(m.a)((function(){return setTimeout((function(){return t.target.complete()}),500)})))}}])&&r(i.prototype,o),a&&r(i,a),n}(),I.\u0275fac=function(t){return new(t||I)(h.Hb(b.a),h.Hb(y.a))},I.\u0275cmp=h.Bb({type:I,selectors:[["app-produtos"]],decls:6,vars:3,consts:[["padding","",4,"ngIf"],["padding",""],["slot","fixed",3,"ionRefresh"],["vertical","top","horizontal","end","edge","","slot","fixed"],["routerLink","/cart"],["name","cart"],["button","",3,"routerLink",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Aguarde..."],["button","",3,"routerLink"],["slot","start"],[3,"src"]],template:function(t,n){1&t&&(h.Mb(0,"ion-header"),h.Mb(1,"ion-toolbar"),h.Mb(2,"ion-title"),h.mc(3,"Produtos"),h.Lb(),h.Lb(),h.Lb(),h.kc(4,j,10,1,"ion-content",0),h.Xb(5,"async")),2&t&&(h.xb(4),h.bc("ngIf",h.Yb(5,1,n.items$)))},directives:[u.m,u.J,u.I,a.k,u.j,u.B,u.C,u.k,u.l,u.Q,b.h,u.n,u.t,a.j,u.o,u.p,u.r,u.H,u.s],pipes:[a.b,a.d],styles:[""]}),I)}],w=((O=function t(){e(this,t)}).\u0275mod=h.Fb({type:O}),O.\u0275inj=h.Eb({factory:function(t){return new(t||O)},imports:[[b.i.forChild(k)],b.i]}),O),M=((L=function t(){e(this,t)}).\u0275mod=h.Fb({type:L}),L.\u0275inj=h.Eb({factory:function(t){return new(t||L)},imports:[[a.c,c.d,u.K,w]]}),L)}}])}();