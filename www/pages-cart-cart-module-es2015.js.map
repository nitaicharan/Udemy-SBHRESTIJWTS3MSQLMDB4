{"version":3,"sources":["./src/pages/cart/cart.page.html","./src/pages/cart/cart-routing.module.ts","./src/pages/cart/cart.module.ts","./src/pages/cart/cart.page.scss","./src/pages/cart/cart.page.ts"],"names":[],"mappings":"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","file":"pages-cart-cart-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Cart</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n\\n  <ion-list>\\n    <ion-item button *ngFor=\\\"let item of items$ | async\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img [src]=\\\"item.produto.imageUrl || 'assets/imgs/prod.jpg'\\\">\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h2>{{item.produto.nome}}</h2>\\n        <p>{{item.produto.preco | currency}}</p>\\n      </ion-label>\\n\\n      <ion-icon name=\\\"remove-circle\\\" color=\\\"primary\\\" (click)=\\\"decreaseQuantity(item.produto)\\\">\\n      </ion-icon>\\n      <ion-card-content>{{item.quantidade}}</ion-card-content>\\n      <ion-icon name=\\\"add-circle\\\" color=\\\"primary\\\" (click)=\\\"increaseQuantity(item.produto)\\\"></ion-icon>\\n      <ion-icon name=\\\"trash\\\" item-end color=\\\"danger\\\" (click)=\\\"removeItem(item.produto)\\\"></ion-icon>\\n    </ion-item>\\n\\n    <ng-container *ngIf=\\\"total() > 0 else empity\\\">\\n      <ion-item>\\n        <ion-label>\\n          <h1>Total</h1>\\n        </ion-label>\\n        <h1 slot=\\\"end\\\">{{total()}}</h1>\\n      </ion-item>\\n    </ng-container>\\n\\n    <ng-template #empity>\\n      <ion-item>\\n        <ion-label>\\n          <h1 align=\\\"center\\\">Seu carrinho est√° vazio</h1>\\n        </ion-label>\\n      </ion-item>\\n    </ng-template>\\n\\n    <ion-button expand=\\\"block\\\" color=\\\"primary\\\" routerLink=\\\"/categorias\\\">Continuar Comprando</ion-button>\\n    <ion-button *ngIf=\\\"total() > 0\\\" expand=\\\"block\\\" color=\\\"secondary\\\" routerLink=\\\"/pick-address\\\">Finalizar Pedido</ion-button>\\n  </ion-list>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CartPage } from './cart.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CartPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CartPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CartPageRoutingModule } from './cart-routing.module';\n\nimport { CartPage } from './cart.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CartPageRoutingModule\n  ],\n  declarations: [CartPage]\n})\nexport class CartPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvcGFnZXMvY2FydC9jYXJ0LnBhZ2Uuc2NzcyJ9 */\";","import { Component } from '@angular/core';\nimport { from, Observable, of } from 'rxjs';\nimport { map, mergeMap, reduce } from 'rxjs/operators';\nimport { environment } from 'src/environments/environment';\nimport { ProdutoDTO } from 'src/models/produto.dto';\nimport { CartService } from 'src/services/cart.service';\nimport { ProdutoService } from 'src/services/domain/produto.service';\nimport { CartItem } from './../../models/cart.item';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.page.html',\n  styleUrls: ['./cart.page.scss'],\n})\nexport class CartPage {\n  items$: Observable<CartItem[]>;\n\n  constructor(\n    public service: CartService,\n    public produtoService: ProdutoService) {\n    this.items$ = this.loadImageUrls(this.service.getCart().items);\n  }\n\n  loadImageUrls(items: CartItem[]) {\n    return from(items).pipe(\n      mergeMap(item => {\n        return this.produtoService.getSmallImageFromBucket(item.produto.id).pipe(\n          map<Blob, CartItem>(p => {\n            const produto = ({ ...item.produto, imageUrl: `${environment.BUCKET_URL}/prod${item.produto.id}-small.jpg` });\n            return { ...item, produto };\n          }),\n        );\n      }),\n      reduce<CartItem, CartItem[]>((cartItems, cartItem) => [...cartItems, cartItem], []),\n    );\n  }\n\n  removeItem(produto: ProdutoDTO) {\n    this.items$ = of(this.service.removeProduto(produto).items);\n  }\n\n  increaseQuantity(produto: ProdutoDTO) {\n    this.items$ = of(this.service.increaseQuantity(produto).items);\n  }\n\n  decreaseQuantity(produto: ProdutoDTO) {\n    this.items$ = of(this.service.decreaseQuantity(produto).items);\n  }\n\n  total(): number {\n    return this.service.total();\n  }\n}\n"],"sourceRoot":"webpack:///"}