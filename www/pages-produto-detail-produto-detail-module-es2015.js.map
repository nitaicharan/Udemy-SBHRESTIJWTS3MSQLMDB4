{"version":3,"sources":["./src/pages/produto-detail/produto-detail.page.html","./src/pages/produto-detail/produto-detail-routing.module.ts","./src/pages/produto-detail/produto-detail.module.ts","./src/pages/produto-detail/produto-detail.page.scss","./src/pages/produto-detail/produto-detail.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,gmBAAiiB,WAAW,sEAAsE,uBAAuB,yKAAyK,E;;;;;;;;;;;;;;;;;;;ACAxxB;AACc;AACG;AAG1D,MAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,sEAAiB,EAAE;IAC1C,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,sEAAiB,EAAE;CACrD,CAAC;IAMW,8BAA8B,SAA9B,8BAA8B;CAAI;AAAlC,8BAA8B;IAJ1C,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,8BAA8B,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACdF;AACM;AACF;AAEA;AAEoC;AAEvB;IAW7C,uBAAuB,SAAvB,uBAAuB;CAAG;AAA1B,uBAAuB;IATnC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,6FAA8B;SAC/B;QACD,YAAY,EAAE,CAAC,sEAAiB,CAAC;KAClC,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;ACnBpC;AAAe,6GAA8C,+JAA+J,E;;;;;;;;;;;;;;;;;;;;;;;ACAlL;AACe;AACnB;AACoB;AACC;AACH;AACa;IAQxD,iBAAiB,SAAjB,iBAAiB;IAG5B,YACU,MAAc,EACtB,cAA8B,EACtB,OAAuB,EACvB,WAAwB;QAHxB,WAAM,GAAN,MAAM,CAAQ;QAEd,YAAO,GAAP,OAAO,CAAgB;QACvB,gBAAW,GAAX,WAAW,CAAa;QAEhC,MAAM,EAAE,GAAG,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC;QACpD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CACzC,gEAAS,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CACxD,CAAC;IACJ,CAAC;IAED,aAAa,CAAC,KAAiB;QAC7B,OAAO,+CAAE,CAAC,KAAK,CAAC,CAAC,IAAI,CACnB,+DAAQ,CAAC,IAAI,CAAC,EAAE;YACd,OAAO,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAClD,0DAAG,CAAmB,GAAG,EAAE,CAAC,iCAAM,IAAI,KAAE,QAAQ,EAAE,GAAG,wEAAW,CAAC,UAAU,QAAQ,IAAI,CAAC,EAAE,MAAM,IAAG,CAAC,CACrG,CAAC;QACJ,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,SAAS,CAAC,OAAmB;QAC3B,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;CACF;;YA1CwB,sDAAM;YAAtB,8DAAc;YAKd,kFAAc;YADd,qEAAW;;AASP,iBAAiB;IAL7B,+DAAS,CAAC;QACT,QAAQ,EAAE,oBAAoB;QAC9B,8OAAyC;;KAE1C,CAAC;GACW,iBAAiB,CA6B7B;AA7B6B","file":"pages-produto-detail-produto-detail-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Produto Detail</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding *ngIf=\\\"item$ | async as item\\\">\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\" edge slot=\\\"fixed\\\">\\n    <ion-fab-button routerLink=\\\"/cart\\\">\\n      <ion-icon name=\\\"cart\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <ion-card class=\\\"md hydrated\\\">\\n    <img [src]=\\\"item.imageUrl || 'assets/imgs/prod.jpg'\\\">\\n\\n    <ion-card-header class=\\\"ion-inherit-color md hydrated\\\">\\n      <ion-card-title>{{item.nome}}</ion-card-title>\\n    </ion-card-header>\\n\\n    <ion-card-content> {{item.preco | currency}} </ion-card-content>\\n\\n    <ion-button expand=\\\"block\\\" color=\\\"primary\\\" (click)=\\\"addToCart(item)\\\">Adicionar ao carrinho</ion-button>\\n  </ion-card>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ProdutoDetailPage } from './produto-detail.page';\n\n\nconst routes: Routes = [\n  { path: '', component: ProdutoDetailPage },\n  { path: ':produtoId', component: ProdutoDetailPage },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProdutoDetailPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProdutoDetailPageRoutingModule } from './produto-detail-routing.module';\n\nimport { ProdutoDetailPage } from './produto-detail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProdutoDetailPageRoutingModule\n  ],\n  declarations: [ProdutoDetailPage]\n})\nexport class ProdutoDetailPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvcGFnZXMvcHJvZHV0by1kZXRhaWwvcHJvZHV0by1kZXRhaWwucGFnZS5zY3NzIn0= */\";","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Observable, of } from 'rxjs';\nimport { map, mergeMap, switchMap } from 'rxjs/operators';\nimport { environment } from 'src/environments/environment';\nimport { CartService } from 'src/services/cart.service';\nimport { ProdutoService } from 'src/services/domain/produto.service';\nimport { ProdutoDTO } from './../../models/produto.dto';\n\n@Component({\n  selector: 'app-produto-detail',\n  templateUrl: './produto-detail.page.html',\n  styleUrls: ['./produto-detail.page.scss'],\n})\nexport class ProdutoDetailPage {\n  item$: Observable<ProdutoDTO>;\n\n  constructor(\n    private router: Router,\n    activatedRoute: ActivatedRoute,\n    private service: ProdutoService,\n    private cartService: CartService,\n  ) {\n    const id = activatedRoute.snapshot.params.produtoId;\n    this.item$ = this.service.findById(id).pipe(\n      switchMap(produtoDto => this.loadImageUrls(produtoDto)),\n    );\n  }\n\n  loadImageUrls(items: ProdutoDTO) {\n    return of(items).pipe(\n      mergeMap(item => {\n        return this.service.getImageFromBucket(item.id).pipe(\n          map<Blob, ProdutoDTO>(() => ({ ...item, imageUrl: `${environment.BUCKET_URL}/prod${item.id}.jpg` })),\n        );\n      }),\n    );\n  }\n\n  addToCart(produto: ProdutoDTO) {\n    this.cartService.addProduto(produto);\n    this.router.navigateByUrl('/cart');\n  }\n}\n"],"sourceRoot":"webpack:///"}